(this.webpackJsonpirenic=this.webpackJsonpirenic||[]).push([[0],{39:function(e,t,a){e.exports=a.p+"static/media/login-irenic.72e2e27d.svg"},40:function(e,t,a){e.exports=a.p+"static/media/loginpage.47ab12a0.svg"},43:function(e,t,a){e.exports=a.p+"static/media/irenic.dc4ab841.svg"},45:function(e,t,a){e.exports=a(94)},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(38),c=a.n(l),i=(a(50),a(51),a(8)),o=Object(n.createContext)({}),u=function(e){var t=e.children,a=Object(n.useState)(),l=Object(i.a)(a,2),c=l[0],u=l[1];return r.a.createElement(o.Provider,{value:{user:c,setUser:u}},t)},m=(a(52),a(39)),s=a.n(m),p=a(40),E=a.n(p),d=a(9),v=a.n(d),f=a(13),h=a(41),g=a.n(h),b=a(42),N=a(19),j=Object(b.setupCache)({maxAge:9e5}),O=g.a.create({adapter:j.adapter}),w=new N.a,x="http://localhost:3000"===window.location.origin?"http://localhost:8000":window.location.origin;function y(){return(y=Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.get("token")){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,O.get("".concat(x,"/auth/user"),{withCredentials:!0});case 8:return t=e.sent,e.abrupt("return",t.data);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function k(){return(k=Object(f.a)(v.a.mark((function e(t){var a,n,r,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.email,r=t.password,e.prev=1,e.next=4,O({maxRedirects:0,method:"post",url:"".concat(x,"/auth"),data:{email:n,username:a,password:r}});case 4:if(400!==(l=e.sent).status){e.next=9;break}return e.abrupt("return",[{message:l.data}]);case 9:if(200!==l.status){e.next=13;break}return(new N.a).set("token",l.data,{path:"/"}),e.abrupt("return",l.data);case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",[{message:"invalid username or password"}]);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}var S=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useRef)(null),o=Object(n.useRef)(null);return r.a.createElement("form",{className:"login"},r.a.createElement("img",{src:s.a,alt:""}),Array.isArray(a)?a.map((function(e,t){return r.a.createElement("p",{key:t},e.message)})):"",r.a.createElement("div",{className:"form-section"},r.a.createElement(C,{label:"email/username",valueref:c}),r.a.createElement(C,{label:"password",type:"password",valueref:o})),r.a.createElement("button",{onClick:function(e){var t,a;e.preventDefault();var n=null===(t=c.current)||void 0===t?void 0:t.value,r=null===(a=o.current)||void 0===a?void 0:a.value;n&&r&&function(e){return k.apply(this,arguments)}({username:n,password:r}).then((function(e){"string"===typeof e?window.location.reload():l(e)}))}},"Log in"),r.a.createElement("span",null,"sign up"))},C=function(e){var t=e.label,a=e.type,l=void 0===a?"text":a,c=e.id,o=e.valueref,u=(e.invalidmessage,e.required),m=o,s=Object(n.useRef)(null),p=Object(n.useState)(!1),E=Object(i.a)(p,2),d=E[0],v=E[1];return Object(n.useEffect)((function(){var e=function(){v(!0)},t=function(){var e;(null===m||void 0===m||null===(e=m.current)||void 0===e?void 0:e.value)||v(!1)};try{var a,n;null===m||void 0===m||null===(a=m.current)||void 0===a||a.addEventListener("focus",e),null===m||void 0===m||null===(n=m.current)||void 0===n||n.addEventListener("blur",t)}catch(r){}return function(){try{var a,n;null===m||void 0===m||null===(a=m.current)||void 0===a||a.removeEventListener("focus",e),null===m||void 0===m||null===(n=m.current)||void 0===n||n.removeEventListener("blur",t)}catch(r){}}}),[]),r.a.createElement("div",{className:"input-text"},r.a.createElement("span",{ref:s,id:d?"infocus":""},t,u?" *":""),r.a.createElement("input",{ref:m,type:l,id:c||t}))},_=function(){return r.a.createElement("div",{className:"login-page"},r.a.createElement(S,null),r.a.createElement("img",{src:E.a,alt:""}))},F=a(14),L=a(1),P=(a(87),a(88),function(){return r.a.createElement("div",{className:"activity-box topics"},r.a.createElement("header",null,r.a.createElement("h4",null,"Topics")),r.a.createElement("div",{className:"activity-content"},r.a.createElement("div",{className:"topic"},r.a.createElement("p",null,"#SomeTopic")),r.a.createElement("div",{className:"topic"},r.a.createElement("p",null,"#SomeTopic")),r.a.createElement("div",{className:"topic"},r.a.createElement("p",null,"#SomeTopic")),r.a.createElement("div",{className:"topic"},r.a.createElement("p",null,"#SomeTopic"))))}),T=function(){return r.a.createElement("div",{className:"activity"},r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",placeholder:"search irenic.."})),r.a.createElement("div",{className:"activities"},r.a.createElement(P,null)))},H=a(43),R=a.n(H),A=function(e){var t=e.user;return t?r.a.createElement("div",{className:"profile-preview"},r.a.createElement("img",{src:t.profile_img,alt:"profilepicture"}),r.a.createElement("div",{className:"about"},r.a.createElement("h4",null,t.name),r.a.createElement("p",null,t.bio?t.bio:""),r.a.createElement("p",null,t.username))):r.a.createElement(r.a.Fragment,null)},q=function(e){var t=e.to,a=e.label,l=Object(L.g)(),c=Object(n.useState)(),o=Object(i.a)(c,2),u=o[0],m=o[1];Object(n.useEffect)((function(){m(l.location.pathname),l.listen((function(e){var t=e.pathname;m(t)}))}),[l]);return r.a.createElement("div",{className:u===t?"nav-link selected-nav-link":"nav-link"},r.a.createElement(F.b,{to:t},r.a.createElement("img",{src:{Home:["https://img.icons8.com/material-outlined/24/000000/home--v2.png","https://img.icons8.com/material/24/000000/home--v5.png"],Notifications:["https://img.icons8.com/material-outlined/24/000000/appointment-reminders.png","https://img.icons8.com/material-rounded/24/000000/appointment-reminders.png"],Profile:["https://img.icons8.com/material-outlined/24/000000/user-male-circle.png","https://img.icons8.com/material/24/000000/user-male-circle--v1.png"]}[a][Number(u===t)],alt:""}),r.a.createElement("span",null,a)))},B=function(){var e=Object(n.useContext)(o).user;return r.a.createElement("div",{className:"nav"},r.a.createElement("header",null,r.a.createElement("img",{src:R.a,alt:"irenic"})),r.a.createElement("div",{className:"nav-links"},r.a.createElement(q,{to:"/home",label:"Home"}),r.a.createElement(q,{to:"/notifications",label:"Notifications"}),r.a.createElement(q,{to:"/profile",label:"Profile"})),r.a.createElement(A,{user:e}))},D=function(){Date.now();var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0];t[1];return Object(n.useEffect)((function(){document.title="irenic | Home"}),[]),r.a.createElement("div",{className:"posts"},a.length?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"no-posts"},r.a.createElement("img",{src:"https://img.icons8.com/material-sharp/24/000000/activity-feed-2.png",alt:""}),r.a.createElement("span",null,"No Posts yet")))},J=function(e){var t=e.profile_img,a=Object(n.useRef)(null),l=Object(n.useState)(0),c=Object(i.a)(l,2),o=c[0],u=c[1];return r.a.createElement("div",{className:"create-post"},r.a.createElement("form",null,r.a.createElement("img",{src:t,alt:"profile_img"}),r.a.createElement("div",{className:"compose"},r.a.createElement("textarea",{maxLength:255,ref:a,onChange:function(){a.current&&(a.current.style.height="0px",a.current.style.height=25+a.current.scrollHeight+"px",a.current.value=a.current.value.trimStart(),a.current.value.length<=255&&u(a.current.value.length))},placeholder:"what's going on?"}))),r.a.createElement("p",null,o>=10?o:r.a.createElement(r.a.Fragment,null)),r.a.createElement("button",{className:o>10?"":"disabled-post"},"Post"))},U=function(){var e=Object(n.useContext)(o).user;return r.a.createElement("div",{className:"feed"},r.a.createElement("header",null,r.a.createElement("h3",null,"Home")),r.a.createElement(J,{profile_img:null===e||void 0===e?void 0:e.profile_img}),r.a.createElement(D,null))},W=function(){return Object(n.useEffect)((function(){document.title="irenic | Notifications"}),[]),r.a.createElement("div",{className:"notification"},r.a.createElement("h4",null,"Title"),r.a.createElement("p",null,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Placeat reprehenderit consequatur inventore aut voluptatum a."))},I=function(){return r.a.createElement("div",{className:"notifications"},r.a.createElement("header",null,r.a.createElement("h3",null,"Notifications")),r.a.createElement("div",{className:"notification-list"},r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null),r.a.createElement(W,null)))},M=function(){var e=Object(n.useContext)(o).user;return Object(n.useEffect)((function(){document.title="irenic | Profile"}),[]),console.log(e),r.a.createElement("div",{className:"profile"},r.a.createElement("header",null,r.a.createElement("div",{className:"profile-img"},r.a.createElement("img",{src:null===e||void 0===e?void 0:e.profile_img,alt:""})),e?r.a.createElement("div",{className:"about"},r.a.createElement("h2",null,e.name||e.username),r.a.createElement("p",null,e.email),e.github?r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/".concat(e.github,"/")},"github"):r.a.createElement(r.a.Fragment,null),e.instagram?r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://instagram.com/".concat(e.instagram,"/")},"instagram"):r.a.createElement(r.a.Fragment,null),e.bio?r.a.createElement("p",null,e.bio):r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null)))},$=function(){return r.a.createElement(F.a,{basename:"/irenic"},r.a.createElement("div",{className:"home"},r.a.createElement(B,null),r.a.createElement(L.d,null,r.a.createElement(L.b,{path:"/home"},r.a.createElement(U,null),r.a.createElement(T,null)),r.a.createElement(L.b,{path:"/notifications"},r.a.createElement(I,null)),r.a.createElement(L.b,{path:"/profile"},r.a.createElement(M,null))),r.a.createElement(L.b,{exact:!0,path:"/"},r.a.createElement(L.a,{to:"/home"}))))};var z=function(){var e=Object(n.useContext)(o),t=e.user,a=e.setUser;return Object(n.useEffect)((function(){(function(){return y.apply(this,arguments)})().then((function(e){a&&a(e)}))}),[]),(null===t||void 0===t?void 0:t.username)?r.a.createElement($,null):r.a.createElement(_,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u,null,r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.28d43dc0.chunk.js.map