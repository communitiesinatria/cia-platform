(this.webpackJsonpirenic=this.webpackJsonpirenic||[]).push([[0],{41:function(e,t,a){e.exports=a.p+"static/media/irenic.dc4ab841.svg"},43:function(e,t,a){e.exports=a(90)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),l=a.n(c),i=(a(48),a(49),a(14)),o=a(1),m=(a(50),function(){return r.a.createElement("div",{className:"activity"})}),u=a(10),s=a(8),p=a.n(s),h=a(13),f=a(39),E=a.n(f),d=a(40),g=a(19),v=Object(d.setupCache)({maxAge:9e5}),b=E.a.create({adapter:v.adapter}),w=new g.a,j="http://localhost:3000"===window.location.origin?"http://localhost:8000":window.location.origin;function O(){return(O=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.get("token")){e.next=5;break}window.location.href="".concat(j,"/account/login"),e.next=15;break;case 5:return e.prev=5,e.next=8,b.get("".concat(j,"/auth/user"),{withCredentials:!0});case 8:return t=e.sent,e.abrupt("return",t.data);case 12:e.prev=12,e.t0=e.catch(5),window.location.href="".concat(j,"/account/login");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}var x=Object(n.createContext)({}),N=function(e){var t=e.children,a=Object(n.useState)(),c=Object(u.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){(function(){return O.apply(this,arguments)})().then((function(e){console.log(e),i(e)}))}),[]),r.a.createElement(x.Provider,{value:{user:l}},t)},k=a(41),y=a.n(k),C=function(e){var t=e.user;return t?r.a.createElement("div",{className:"profile-preview"},r.a.createElement("img",{src:t.profile_img,alt:"profilepicture"}),r.a.createElement("div",{className:"about"},r.a.createElement("h4",null,t.name),r.a.createElement("p",null,t.bio?t.bio:""),r.a.createElement("p",null,t.username))):r.a.createElement(r.a.Fragment,null)},S=function(e){var t=e.to,a=e.label,c=Object(o.g)(),l=Object(n.useState)(c.location.pathname),m=Object(u.a)(l,2),s=m[0],p=m[1];Object(n.useEffect)((function(){c.listen((function(e){var t=e.pathname;return p(t)}))}),[c]);return r.a.createElement("div",{className:s===t?"nav-link selected-nav-link":"nav-link"},r.a.createElement(i.b,{to:t},r.a.createElement("img",{src:{Home:["https://img.icons8.com/material-outlined/24/000000/home--v2.png","https://img.icons8.com/material/24/000000/home--v5.png"],Notifications:["https://img.icons8.com/material-outlined/24/000000/appointment-reminders.png","https://img.icons8.com/material-rounded/24/000000/appointment-reminders.png"],Profile:["https://img.icons8.com/material-outlined/24/000000/user-male-circle.png","https://img.icons8.com/material/24/000000/user-male-circle--v1.png"]}[a][Number(s===t)],alt:""}),r.a.createElement("span",null,a)))},_=function(){var e=Object(n.useContext)(x).user;return r.a.createElement("div",{className:"nav"},r.a.createElement("header",null,r.a.createElement("img",{src:y.a,alt:"irenic"})),r.a.createElement("div",{className:"nav-links"},r.a.createElement(S,{to:"/home",label:"Home"}),r.a.createElement(S,{to:"/notifications",label:"Notifications"}),r.a.createElement(S,{to:"/profile",label:"Profile"})),r.a.createElement(C,{user:e}))},H=function(e){var t=e.profile_img,a=Object(n.useRef)(null),c=Object(n.useState)(0),l=Object(u.a)(c,2),i=l[0],o=l[1];return r.a.createElement("div",{className:"create-post"},r.a.createElement("form",null,r.a.createElement("img",{src:t,alt:"profile_img"}),r.a.createElement("div",{className:"compose"},r.a.createElement("textarea",{maxLength:255,ref:a,onChange:function(){a.current&&(a.current.style.height="0px",a.current.style.height=25+a.current.scrollHeight+"px",a.current.value=a.current.value.trimStart(),a.current.value.length<=255&&o(a.current.value.length))},placeholder:"what's going on?"}))),r.a.createElement("p",null,i>=10?i:r.a.createElement(r.a.Fragment,null)),r.a.createElement("button",{className:i>10?"":"disabled-post"},"Post"))},P=function(){var e=Object(n.useContext)(x).user;return r.a.createElement("div",{className:"feed"},r.a.createElement("header",null,r.a.createElement("h3",null,"Home")),r.a.createElement(H,{profile_img:null===e||void 0===e?void 0:e.profile_img}))},B=function(){return r.a.createElement(i.a,{basename:"/irenic"},r.a.createElement("div",{className:"home"},r.a.createElement(_,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/home"},r.a.createElement(P,null)),r.a.createElement(o.b,{exact:!0,path:"/"},r.a.createElement(o.a,{to:"/home"}))),r.a.createElement(m,null)))};var F=function(){return Object(n.useEffect)((function(){})),r.a.createElement(N,null,r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.a97e1519.chunk.js.map